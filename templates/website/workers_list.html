{% extends "website/base.html" %}
{% load crispy_forms_filters %}
{% load static %}
{% block style %}
  <link rel="stylesheet" href="{% static "css/workers_list.css" %}">
{% endblock %}
{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        <div class="career-search mb-60">
          <div class="filter-result">
            <h1 class="mb-30 ff-montserrat">All workers: {{ total_workers_count }}
              <a href="{% url 'website:worker-create' %}"><strong>+</strong></a></h1>
            <br>
            <form action="" method="get" class="form-inline">
              {{ search_form|crispy }}
              <input class="btn btn-primary ml-3" type="submit" value="Search">
            </form>
            {% if worker_list %}
              <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4">
                {% for worker in worker_list %}
                  <div class="col mb-4">
                    <div class="card radius-15">
                      <div class="card-body text-center">
                        <div class="p-3 radius-15">
                          <img
                              src="https://i0.wp.com/digitalhealthskills.com/wp-content/uploads/2022/11/3da39-no-user-image-icon-27.png?fit=500%2C500&ssl=1"
                              width="110" height="110" class="rounded-circle shadow" alt="">
                          {% if worker.id == user.id %}
                            <h5 class="mb-0 mt-4"><i>"Me"</i></h5>
                          {% else %}
                            <h5 class="mb-0 mt-4">{{ worker.first_name }} {{ worker.last_name }}</h5>
                          {% endif %}
                          <h6 class="mb-0 mt-4">{{ worker.username }}</h6>
                          <br>
                          <p class="mb-2"><i>Position:</i> <strong>{{ worker.position }}</strong></p>
                          <p class="mb-2"><i>Username:</i> <strong>{{ worker.username }}</strong></p>
                          {% if worker.id == user.id %}
                            <div class="d-grid"><a href="{% url 'website:my-profile' %}"
                                                   class="btn btn-outline-primary">Details</a></div>
                          {% else %}
                            <div class="d-grid"><a href="{% url 'website:worker-detail' pk=worker.id %}"
                                                   class="btn btn-outline-primary">Details</a></div>
                          {% endif %}
                        </div>
                      </div>
                    </div>
                  </div>
                {% endfor %}
              </div>
            {% else %}
              <div class="alert alert-warning" role="alert">
                No workers found!
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
